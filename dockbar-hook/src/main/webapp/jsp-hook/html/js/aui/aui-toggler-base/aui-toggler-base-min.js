YUI.add("aui-toggler-base",function(e){var t=e.Lang,n=t.isBoolean,a=t.isObject,i=t.isUndefined,r=t.toInt,s="animated",o="animating",d="bindDOMEvents",l="click",u="collapsed",g="content",v="cubic-bezier(0, 0.1, 0, 1.0)",c="down",p="enter",f="esc",h="expanded",m="expandedChange",y="getBoundingClientRect",E="header",b="keydown",x="left",C="marginTop",_="num_minus",w="num_plus",S="offsetHeight",K="px",D="right",H="space",I="toggler",T="transition",U="up",O="wrapper",k=e.getClassName,M=k(I,g),B=k(I,g,u),N=k(I,g,h),z=k(I,g,O),A=k(I,E),G=k(I,E,u),R=k(I,E,h),j={"false":B,"true":N},q={"false":G,"true":R},L='<div class="'+z+'"></div>',V=e.Component.create({NAME:I,ATTRS:{animated:{validator:n,value:!1,writeOnce:!0},animating:{validator:n,value:!1},bindDOMEvents:{validator:n,value:!0,writeOnce:!0},content:{setter:e.one},expanded:{validator:n,value:!0},header:{setter:e.one},transition:{validator:a,value:{duration:.4,easing:v}}},EXTENDS:e.Base,headerEventHandler:function(e,t){return e.type===l||e.isKey(p)||e.isKey(H)?(e.preventDefault(),t.toggle()):e.isKey(c)||e.isKey(D)||e.isKey(w)?(e.preventDefault(),t.expand()):e.isKey(U)||e.isKey(x)||e.isKey(f)||e.isKey(_)?(e.preventDefault(),t.collapse()):void 0},prototype:{initializer:function(){var e=this;e.bindUI(),e.syncUI(),e._uiSetExpanded(e.get(h))},bindUI:function(){var t=this,n=t.get(E);n.setData(I,t);var a=[t.on(m,e.bind(t._onExpandedChange,t))];t.get(d)&&a.push(n.on([l,b],e.rbind(V.headerEventHandler,null,t))),t._eventHandles=a},syncUI:function(){var e=this;null!=e.get(g)&&e.get(g).addClass(M),null!=e.get(E)&&e.get(E).addClass(A)},destructor:function(){var t=this;t.get(E).setData(I,null),new e.EventHandle(t._eventHandles).detach()},animate:function(t,n){var a=this;a._uiSetExpanded(!0);var i=e.merge(t,a.get(T));a.get(g).transition(i,e.bind(n,a))},collapse:function(e){var t=this;return t.toggle(!1,e)},expand:function(e){var t=this;return t.toggle(!0,e)},getContentHeight:function(){var e,t=this,n=t.get(g),a=t.get(h);if(a||t._uiSetExpanded(!0),n.hasMethod(y)){var i=n.invoke(y);i&&(e=i.bottom-i.top)}else e=n.get(S);return a||t._uiSetExpanded(!1),e},toggle:function(e,t){var n,a=this,d=a.get(E);if(d.test(":visible")){if(n=a.get(h),i(e)&&(e=!n),a.get(s)&&e!==n){if(a.get(o))return e;var l=a.get(g),u=a.getContentHeight(),v=a.contentGutter;i(v)&&(v=a.contentGutter=r(l.getStyle(C))),a.wrapped||(l.wrap(L),e&&l.setStyle(C,-(u+v)),a.wrapped=!0),a.set(o,!0),a.animate({marginTop:(e?v:-(u+v))+K},function(){a.set(o,!1),a.set(h,e,t)})}else a.set(h,e,t);return e}},_onExpandedChange:function(e){var t=this;t._uiSetExpanded(e.newVal)},_uiSetExpanded:function(e){var t=this;null!=t.get(g)&&t.get(g).replaceClass(j[!e],j[e]),null!=t.get(E)&&t.get(E).replaceClass(q[!e],q[e])}}});e.Toggler=V},"2.0.0",{requires:["transition","aui-selector","aui-event-base","aui-node","aui-component"],skinnable:!0});